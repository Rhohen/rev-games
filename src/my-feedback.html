<link rel="import" href="../bower_components/polymer/polymer.html">
<dom-module id="my-feedback">

  <template>

    <style>
      :host {
        display: block;
        padding: 10px;
      }
      .card {
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
        padding: 16px;
        margin: 24px;
        border-radius: 5px;
        background-color: #fff;
        color: #757575;
      }
      h1 {
        font-size: 22px;
        margin: 16px 0;
        color: #212121;
      }
    </style>

    <div class="card">
      <h1>Activity over !</h1>
      <div>Thank you for playing, don't hesitate to start another activity.</div>
      <paper-button>Activity selection</paper-button>
      <iron-ajax method="POST" id="userScore" url="/user" body="{{ajaxBody}}" handleAs="json" on-response="validataScoreUser"></iron-ajax>
    </div>

  </template>

  <script>

    Polymer({

      is: 'my-feedback',

      ready: function() {
        this.$.userscore.generateRequest();
      },

      properties: {

        ajaxBody: {
          type: String,
          computed: 'processBody(idMLG, userscore)'
        }
      },

      processBody: function(idMLG, userscore) {
        return JSON.stringify({id: idMLG, score: userscore});
      }
    });

  </script>

</dom-module>